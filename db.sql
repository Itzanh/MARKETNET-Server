SET statement_timeout = 0; SET lock_timeout = 0; SET idle_in_transaction_session_timeout = 0; SET client_encoding = 'UTF8'; SET standard_conforming_strings = on; SELECT pg_catalog.set_config('search_path', '', false); SET check_function_bodies = false; SET xmloption = content; SET client_min_messages = warning; SET row_security = off; CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public; CREATE FUNCTION public.set_account_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(account.id) END AS id FROM account) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_accounting_movement_detail_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(accounting_movement_detail.id) END AS id FROM accounting_movement_detail) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_accounting_movement_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(accounting_movement.id) END AS id FROM accounting_movement) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_address_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(address.id) END AS id FROM address) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_api_key_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(api_key.id) END AS id FROM api_key) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_carrier_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(carrier.id) END AS id FROM carrier) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_charges_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(charges.id) END AS id FROM charges) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_city_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(city.id) END AS id FROM city) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_collection_operation_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(collection_operation.id) END AS id FROM collection_operation) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_color_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(color.id) END AS id FROM color) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_country_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(country.id) END AS id FROM country) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_currency_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(currency.id) END AS id FROM currency) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_customer_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(customer.id) END AS id FROM customer) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_document_container_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(document_container.id) END AS id FROM document_container) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_document_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(document.id) END AS id FROM document) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_group_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX("group".id) END AS id FROM "group") + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_incoterm_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(incoterm.id) END AS id FROM incoterm) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_language_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(language.id) END AS id FROM language) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_login_tokens_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(login_tokens.id) END AS id FROM login_tokens) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_logs_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(logs.id) END AS id FROM logs) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_manufacturing_order_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(manufacturing_order.id) END AS id FROM manufacturing_order) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_manufacturing_order_type_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(manufacturing_order_type.id) END AS id FROM manufacturing_order_type) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_packages_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(packages.id) END AS id FROM packages) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_packaging_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(packaging.id) END AS id FROM packaging) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_pallets_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(pallets.id) END AS id FROM pallets) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_payment_method_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(payment_method.id) END AS id FROM payment_method) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_payment_transaction_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(payment_transaction.id) END AS id FROM payment_transaction) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_payments_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(payments.id) END AS id FROM payments) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_product_family_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(product_family.id) END AS id FROM product_family) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_product_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(product.id) END AS id FROM product) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_product_image_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(product_image.id) END AS id FROM product_image) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_purchase_delivery_note_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(purchase_delivery_note.id) END AS id FROM purchase_delivery_note) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_purchase_invoice_details_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(purchase_invoice_details.id) END AS id FROM purchase_invoice_details) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_purchase_invoice_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(purchase_invoice.id) END AS id FROM purchase_invoice) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_purchase_order_detail_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(purchase_order_detail.id) END AS id FROM purchase_order_detail) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_purchase_order_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(purchase_order.id) END AS id FROM purchase_order) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_sales_delivery_note_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(sales_delivery_note.id) END AS id FROM sales_delivery_note) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_sales_invoice_detail_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(sales_invoice_detail.id) END AS id FROM sales_invoice_detail) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_sales_invoice_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(sales_invoice.id) END AS id FROM sales_invoice) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_sales_order_detail_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(sales_order_detail.id) END AS id FROM sales_order_detail) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_sales_order_discount_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(sales_order_discount.id) END AS id FROM sales_order_discount) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_sales_order_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(sales_order.id) END AS id FROM sales_order) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_shipping_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(shipping.id) END AS id FROM shipping) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_shipping_tag_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(shipping_tag.id) END AS id FROM shipping_tag) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_state_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(state.id) END AS id FROM state) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_suppliers_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(suppliers.id) END AS id FROM suppliers) + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_user_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX("user".id) END AS id FROM "user") + 1; RETURN NEW; END; $$; CREATE FUNCTION public.set_warehouse_movement_id() RETURNS trigger LANGUAGE plpgsql AS $$ BEGIN NEW.id = (SELECT CASE COUNT(*) WHEN 0 THEN 0 ELSE MAX(warehouse_movement.id) END AS id FROM warehouse_movement) + 1; RETURN NEW; END; $$; SET default_table_access_method = heap; CREATE TABLE public.account ( id integer NOT NULL, journal smallint NOT NULL, name character varying(150) NOT NULL, credit real DEFAULT 0 NOT NULL, debit real DEFAULT 0 NOT NULL, balance real DEFAULT 0 NOT NULL, account_number integer NOT NULL ); CREATE TABLE public.accounting_movement ( id bigint NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, amount_debit real DEFAULT 0 NOT NULL, amount_credit real DEFAULT 0 NOT NULL, fiscal_year smallint NOT NULL, type character(1) NOT NULL, billing_serie character(3) NOT NULL ); CREATE TABLE public.accounting_movement_detail ( id bigint NOT NULL, movement bigint NOT NULL, journal smallint NOT NULL, account integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, credit real NOT NULL, debit real NOT NULL, type character(1) NOT NULL, note character varying(300) NOT NULL, document_name character(15) NOT NULL, payment_method smallint NOT NULL ); CREATE TABLE public.address ( id integer NOT NULL, customer integer, address character varying(200) NOT NULL, address_2 character varying(200) NOT NULL, state integer, city character varying(100) NOT NULL, country smallint NOT NULL, private_business character(1) NOT NULL, notes text NOT NULL, supplier integer, ps_id integer DEFAULT 0 NOT NULL, zip_code character varying(12) NOT NULL ); CREATE TABLE public.api_key ( id smallint NOT NULL, name character(64) NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, user_created smallint NOT NULL, off boolean DEFAULT false NOT NULL, "user" smallint NOT NULL, token uuid NOT NULL ); CREATE TABLE public.billing_series ( id character(3) NOT NULL, name character varying(50) NOT NULL, billing_type character(1) NOT NULL, year smallint NOT NULL ); CREATE TABLE public.carrier ( id smallint NOT NULL, name character varying(50) NOT NULL, max_weight real NOT NULL, max_width real NOT NULL, max_height real NOT NULL, max_depth real NOT NULL, max_packages smallint NOT NULL, phone character varying(15) NOT NULL, email character varying(100) NOT NULL, web character varying(100) NOT NULL, off boolean NOT NULL, ps_id integer DEFAULT 0 NOT NULL, pallets boolean NOT NULL, webservice character(1) NOT NULL, sendcloud_url character varying(75) DEFAULT ''::character varying NOT NULL, sendcloud_key character varying(32) DEFAULT ''::character varying NOT NULL, sendcloud_secret character varying(32) DEFAULT ''::character varying NOT NULL, sendcloud_shipping_method integer DEFAULT 0 NOT NULL, sendcloud_sender_address bigint DEFAULT 0 NOT NULL ); CREATE TABLE public.charges ( id integer NOT NULL, accounting_movement bigint NOT NULL, accounting_movement_detail_debit bigint NOT NULL, accounting_movement_detail_credit bigint NOT NULL, account integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, amount real NOT NULL, concept character varying(50) NOT NULL, collection_operation integer NOT NULL ); CREATE TABLE public.collection_operation ( id integer NOT NULL, accounting_movement bigint NOT NULL, accounting_movement_detail bigint NOT NULL, account integer NOT NULL, bank integer, status character(1) DEFAULT 'P'::bpchar NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_expiration timestamp(3) without time zone NOT NULL, total real NOT NULL, paid real NOT NULL, pending real NOT NULL, document_name character(15) NOT NULL, payment_method smallint NOT NULL ); CREATE TABLE public.color ( id smallint NOT NULL, name character varying(50) NOT NULL, hex_color character(6) NOT NULL ); CREATE TABLE public.config ( id smallint NOT NULL, default_vat_percent real NOT NULL, default_warehouse character(2) NOT NULL, date_format character varying(25) NOT NULL, enterprise_name character varying(50) NOT NULL, enterprise_description character varying(250) NOT NULL, ecommerce character(1) NOT NULL, email character(1) NOT NULL, currency character(1) NOT NULL, currency_ecb_url character varying(100) NOT NULL, barcode_prefix character varying(4) NOT NULL, prestashop_url character varying(100) NOT NULL, prestashop_api_key character varying(32) NOT NULL, prestashop_language_id integer NOT NULL, prestashop_export_serie character(3), prestashop_intracommunity_serie character(3), prestashop_interior_serie character(3), cron_currency character varying(25) NOT NULL, cron_prestashop character varying(25) NOT NULL, sendgrid_key character varying(75) NOT NULL, email_from character varying(50) NOT NULL, name_from character varying(50) NOT NULL, pallet_weight real NOT NULL, pallet_width real NOT NULL, pallet_height real NOT NULL, pallet_depth real NOT NULL, max_connections integer NOT NULL, prestashop_status_payment_accepted integer DEFAULT 0 NOT NULL, prestashop_status_shipped integer DEFAULT 0 NOT NULL, minimum_stock_sales_periods smallint DEFAULT 0 NOT NULL, minimum_stock_sales_days smallint DEFAULT 0 NOT NULL, customer_journal smallint DEFAULT 430, sales_journal smallint DEFAULT 700, sales_account integer, supplier_journal smallint, purchase_journal smallint, purchase_account integer, cron_clear_logs character varying(25) DEFAULT '@monthly'::character varying NOT NULL, enable_api_key boolean DEFAULT false NOT NULL, cron_clear_labels character varying(25) DEFAULT '@midnight'::character varying NOT NULL, limit_accounting_date timestamp(0) without time zone ); CREATE TABLE public.config_accounts_vat ( vat_percent real NOT NULL, account_sale integer NOT NULL, account_purchase integer NOT NULL ); CREATE TABLE public.country ( id smallint NOT NULL, name character varying(50) NOT NULL, iso_2 character(2) NOT NULL, iso_3 character(3) NOT NULL, un_code smallint NOT NULL, zone character(1) NOT NULL, phone_prefix smallint NOT NULL, language smallint, currency smallint ); CREATE TABLE public.currency ( id smallint NOT NULL, name character varying(50) NOT NULL, sign character(3) NOT NULL, iso_code character(3) NOT NULL, iso_num smallint NOT NULL, exchange real NOT NULL, exchange_date date DEFAULT CURRENT_DATE NOT NULL ); CREATE TABLE public.customer ( id integer NOT NULL, name character varying(303) NOT NULL, tradename character varying(150) NOT NULL, fiscal_name character varying(150) NOT NULL, tax_id character varying(25) NOT NULL, vat_number character varying(25) NOT NULL, phone character varying(25) NOT NULL, email character varying(100) NOT NULL, main_address integer, country smallint, state integer, main_shipping_address integer, main_billing_address integer, language smallint, payment_method integer, billing_series character(3), date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, ps_id integer DEFAULT 0 NOT NULL, account integer ); CREATE TABLE public.document ( id integer NOT NULL, name character varying(250) NOT NULL, uuid uuid NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_updated timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, size integer DEFAULT 0 NOT NULL, container smallint NOT NULL, dsc text NOT NULL, sales_order integer, sales_invoice integer, sales_delivery_note integer, shipping integer, purchase_order integer, purchase_invoice integer, purchase_delivery_note integer, mime_type character varying(100) DEFAULT ''::character varying NOT NULL ); CREATE TABLE public.document_container ( id smallint NOT NULL, name character varying(50) NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, path character varying(250) NOT NULL, max_file_size integer NOT NULL, disallowed_mime_types character varying(250) NOT NULL, allowed_mime_types character varying(250) NOT NULL ); CREATE TABLE public."group" ( id smallint NOT NULL, name character varying(50) NOT NULL, sales boolean NOT NULL, purchases boolean NOT NULL, masters boolean NOT NULL, warehouse boolean NOT NULL, manufacturing boolean NOT NULL, preparation boolean NOT NULL, admin boolean NOT NULL, prestashop boolean NOT NULL, accounting boolean DEFAULT false NOT NULL ); CREATE TABLE public.incoterm ( id smallint NOT NULL, key character(3) NOT NULL, name character varying(50) NOT NULL ); CREATE TABLE public.journal ( id smallint NOT NULL, name character varying(75) NOT NULL, type character(1) NOT NULL ); CREATE TABLE public.language ( id smallint NOT NULL, name character varying(50) NOT NULL, iso_2 character(2) NOT NULL, iso_3 character(3) NOT NULL ); CREATE TABLE public.login_tokens ( id integer NOT NULL, name character(128) NOT NULL, date_last_used timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, "user" smallint NOT NULL, ip_address character varying(15) NOT NULL ); CREATE TABLE public.logs ( id bigint NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, title character varying(255) NOT NULL, info text NOT NULL ); CREATE TABLE public.manufacturing_order ( id bigint NOT NULL, order_detail integer, product integer NOT NULL, type smallint NOT NULL, uuid uuid NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_last_update timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, manufactured boolean DEFAULT false NOT NULL, date_manufactured timestamp(3) without time zone, user_manufactured smallint, user_created smallint NOT NULL, tag_printed boolean DEFAULT false NOT NULL, date_tag_printed timestamp(3) without time zone, "order" integer, user_tag_printed smallint ); CREATE TABLE public.manufacturing_order_type ( id smallint NOT NULL, name character varying(100) NOT NULL ); CREATE TABLE public.packages ( id smallint NOT NULL, name character varying(50) NOT NULL, weight real NOT NULL, width real NOT NULL, height real NOT NULL, depth real NOT NULL, product integer NOT NULL ); CREATE TABLE public.packaging ( id integer NOT NULL, package smallint NOT NULL, sales_order integer NOT NULL, weight real NOT NULL, shipping integer, pallet integer ); CREATE TABLE public.pallets ( id integer NOT NULL, sales_order integer NOT NULL, weight real NOT NULL, width real NOT NULL, height real NOT NULL, depth real NOT NULL, name character varying(40) NOT NULL ); CREATE TABLE public.payment_method ( id smallint NOT NULL, name character varying(100) NOT NULL, paid_in_advance boolean NOT NULL, prestashop_module_name character varying(100) NOT NULL, days_expiration smallint DEFAULT 0 NOT NULL, bank integer ); CREATE TABLE public.payment_transaction ( id integer NOT NULL, accounting_movement bigint NOT NULL, accounting_movement_detail bigint NOT NULL, account integer NOT NULL, bank integer, status character(1) DEFAULT 'P'::bpchar NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_expiration timestamp(3) without time zone NOT NULL, total real NOT NULL, paid real NOT NULL, pending real NOT NULL, document_name character(15) NOT NULL, payment_method smallint NOT NULL ); CREATE TABLE public.payments ( id integer NOT NULL, accounting_movement bigint NOT NULL, accounting_movement_detail_debit bigint NOT NULL, accounting_movement_detail_credit bigint NOT NULL, account integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, amount real NOT NULL, concept character varying(50) NOT NULL, payment_transaction integer NOT NULL ); CREATE TABLE public.product ( id integer NOT NULL, name character varying(150) NOT NULL, reference character varying(40) NOT NULL, barcode character(13) NOT NULL, control_stock boolean NOT NULL, weight real NOT NULL, family smallint, width real NOT NULL, height real NOT NULL, depth real NOT NULL, off boolean NOT NULL, stock integer NOT NULL, vat_percent real NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, dsc text NOT NULL, color smallint, price real NOT NULL, manufacturing boolean NOT NULL, manufacturing_order_type smallint, supplier integer, ps_id integer DEFAULT 0 NOT NULL, ps_combination_id integer DEFAULT 0 NOT NULL, minimum_stock integer DEFAULT 0 NOT NULL, track_minimum_stock boolean DEFAULT false NOT NULL ); CREATE TABLE public.product_family ( id smallint NOT NULL, name character varying(100) NOT NULL, reference character varying(40) NOT NULL ); CREATE TABLE public.product_image ( id integer NOT NULL, product integer NOT NULL, url character varying(255) NOT NULL ); CREATE TABLE public.product_pack ( product_base integer NOT NULL, product_included integer NOT NULL, quantity smallint NOT NULL ); CREATE TABLE public.product_translation ( product integer NOT NULL, language smallint NOT NULL, name character varying(150) NOT NULL ); CREATE TABLE public.ps_address ( id integer NOT NULL, id_country integer NOT NULL, id_state integer NOT NULL, id_customer integer NOT NULL, alias character varying(32) NOT NULL, company character varying(255) NOT NULL, lastname character varying(255) NOT NULL, firstname character varying(255) NOT NULL, address1 character varying(128) NOT NULL, address2 character varying(128) NOT NULL, postcode character varying(12) NOT NULL, city character varying(64) NOT NULL, other text NOT NULL, phone character varying(32) NOT NULL, phone_mobile character varying(32) NOT NULL, vat_number character varying(32) NOT NULL, dni character varying(16) NOT NULL, date_add timestamp(0) without time zone NOT NULL, date_upd timestamp(0) without time zone NOT NULL, deleted boolean NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_carrier ( id integer NOT NULL, deleted boolean NOT NULL, name character varying(64) NOT NULL, active boolean NOT NULL, url character varying(255) NOT NULL, max_width real NOT NULL, max_height real NOT NULL, max_depth real NOT NULL, max_weight real NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_country ( id integer NOT NULL, id_zone integer NOT NULL, id_currency integer NOT NULL, iso_code character varying(3) NOT NULL, call_prefix integer NOT NULL, active boolean NOT NULL, name character varying(64) NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_currency ( id integer NOT NULL, name character varying(64) NOT NULL, iso_code character varying(3) NOT NULL, conversion_rate real NOT NULL, deleted boolean NOT NULL, active boolean NOT NULL, ps_exists boolean DEFAULT true NOT NULL, symbol character varying(3) NOT NULL, numeric_iso_code integer NOT NULL ); CREATE TABLE public.ps_customer ( id integer NOT NULL, id_lang integer NOT NULL, company character varying(255) NOT NULL, firstname character varying(255) NOT NULL, lastname character varying(255) NOT NULL, email character varying(255) NOT NULL, note text NOT NULL, active boolean NOT NULL, deleted boolean NOT NULL, date_add timestamp(0) without time zone NOT NULL, date_upd timestamp(0) without time zone NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_language ( id integer NOT NULL, name character varying(32) NOT NULL, iso_code character varying(2) NOT NULL, active boolean NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_order ( id integer NOT NULL, reference character varying(9) NOT NULL, id_carrier integer NOT NULL, id_lang integer NOT NULL, id_customer integer NOT NULL, id_currency integer NOT NULL, id_address_delivery integer NOT NULL, id_address_invoice integer NOT NULL, module character varying(255) NOT NULL, total_discounts_tax_excl real NOT NULL, total_shipping_tax_excl real NOT NULL, date_add timestamp(0) without time zone NOT NULL, date_upd timestamp(0) without time zone NOT NULL, ps_exists boolean DEFAULT true NOT NULL, tax_included boolean NOT NULL ); CREATE TABLE public.ps_order_detail ( id integer NOT NULL, id_order integer NOT NULL, product_id integer NOT NULL, product_attribute_id integer NOT NULL, product_quantity integer NOT NULL, product_price real NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_product ( id integer NOT NULL, on_sale boolean NOT NULL, ean13 character varying(13) NOT NULL, price real NOT NULL, reference character varying(64) NOT NULL, active boolean NOT NULL, date_add timestamp(0) without time zone NOT NULL, date_upd timestamp(0) without time zone NOT NULL, name character varying(128) NOT NULL, description text NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_product_combination ( id integer NOT NULL, id_product integer NOT NULL, reference character varying(64) NOT NULL, ean13 character varying(13) NOT NULL, price real NOT NULL, product_option_values integer[] NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_product_option_values ( id integer NOT NULL, name character varying(128) NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_state ( id integer NOT NULL, id_country integer NOT NULL, id_zone integer NOT NULL, name character varying(64) NOT NULL, iso_code character varying(7) NOT NULL, active boolean NOT NULL, ps_exists boolean DEFAULT true NOT NULL ); CREATE TABLE public.ps_zone ( id integer NOT NULL, name character varying(64) NOT NULL, active boolean NOT NULL, ps_exists boolean DEFAULT true NOT NULL, zone character(1) NOT NULL ); CREATE TABLE public.purchase_delivery_note ( id integer NOT NULL, warehouse character(2) NOT NULL, supplier integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, payment_method smallint NOT NULL, billing_series character(3) NOT NULL, shipping_address integer NOT NULL, total_products real DEFAULT 0 NOT NULL, discount_percent real NOT NULL, fix_discount real NOT NULL, shipping_price real NOT NULL, shipping_discount real NOT NULL, total_with_discount real DEFAULT 0 NOT NULL, total_vat real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL, lines_number smallint DEFAULT 0 NOT NULL, delivery_note_name character(15) NOT NULL, delivery_note_number integer NOT NULL, currency smallint NOT NULL, currency_change real NOT NULL ); CREATE TABLE public.purchase_invoice ( id integer NOT NULL, supplier integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, payment_method smallint NOT NULL, billing_series character(3) NOT NULL, currency smallint NOT NULL, currency_change real NOT NULL, billing_address integer NOT NULL, total_products real DEFAULT 0 NOT NULL, discount_percent real NOT NULL, fix_discount real NOT NULL, shipping_price real NOT NULL, shipping_discount real NOT NULL, total_with_discount real DEFAULT 0 NOT NULL, vat_amount real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL, lines_number smallint DEFAULT 0 NOT NULL, invoice_number integer NOT NULL, invoice_name character(15) NOT NULL, accounting_movement bigint ); CREATE TABLE public.purchase_invoice_details ( id integer NOT NULL, invoice integer NOT NULL, product integer NOT NULL, price real NOT NULL, quantity integer NOT NULL, vat_percent real NOT NULL, total_amount real NOT NULL, order_detail integer ); CREATE TABLE public.purchase_order ( id integer NOT NULL, warehouse character(2) NOT NULL, supplier_reference character varying(40) NOT NULL, supplier integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_paid timestamp(3) without time zone, payment_method smallint NOT NULL, billing_series character(3) NOT NULL, currency smallint NOT NULL, currency_change real NOT NULL, billing_address integer NOT NULL, shipping_address integer NOT NULL, lines_number smallint DEFAULT 0 NOT NULL, invoiced_lines smallint DEFAULT 0 NOT NULL, delivery_note_lines smallint DEFAULT 0 NOT NULL, total_products real DEFAULT 0 NOT NULL, discount_percent real NOT NULL, fix_discount real NOT NULL, shipping_price real NOT NULL, shipping_discount real NOT NULL, total_with_discount real DEFAULT 0 NOT NULL, total_vat real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL, dsc text NOT NULL, notes character varying(250) NOT NULL, off boolean DEFAULT false NOT NULL, cancelled boolean DEFAULT false NOT NULL, order_number integer NOT NULL, billing_status character(1) DEFAULT 'P'::bpchar NOT NULL, order_name character(15) NOT NULL ); CREATE TABLE public.purchase_order_detail ( id integer NOT NULL, "order" integer NOT NULL, product integer NOT NULL, price real NOT NULL, quantity integer NOT NULL, vat_percent real NOT NULL, total_amount real NOT NULL, quantity_invoiced integer DEFAULT 0 NOT NULL, quantity_delivery_note integer DEFAULT 0 NOT NULL, quantity_pending_packaging integer NOT NULL, quantity_assigned_sale integer DEFAULT 0 NOT NULL ); CREATE TABLE public.sales_delivery_note ( id integer NOT NULL, warehouse character(2) NOT NULL, customer integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, payment_method smallint, billing_series character(3) NOT NULL, shipping_address integer NOT NULL, total_products real DEFAULT 0 NOT NULL, discount_percent real DEFAULT 0 NOT NULL, fix_discount real DEFAULT 0 NOT NULL, shipping_price real DEFAULT 0 NOT NULL, shipping_discount real DEFAULT 0 NOT NULL, total_with_discount real DEFAULT 0 NOT NULL, vat_amount real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL, lines_number smallint DEFAULT 0 NOT NULL, delivery_note_name character(15) NOT NULL, delivery_note_number integer NOT NULL, currency smallint NOT NULL, currency_change real NOT NULL ); CREATE TABLE public.sales_invoice ( id integer NOT NULL, customer integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, payment_method smallint NOT NULL, billing_series character(3) NOT NULL, currency smallint NOT NULL, currency_change real NOT NULL, billing_address integer NOT NULL, total_products real DEFAULT 0 NOT NULL, discount_percent real NOT NULL, fix_discount real NOT NULL, shipping_price real NOT NULL, shipping_discount real NOT NULL, total_with_discount real DEFAULT 0 NOT NULL, vat_amount real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL, lines_number smallint DEFAULT 0 NOT NULL, invoice_number integer NOT NULL, invoice_name character(15) NOT NULL, accounting_movement bigint ); CREATE TABLE public.sales_invoice_detail ( id integer NOT NULL, invoice integer NOT NULL, product integer NOT NULL, price real NOT NULL, quantity integer NOT NULL, vat_percent real NOT NULL, total_amount real NOT NULL, order_detail integer ); CREATE TABLE public.sales_order ( id integer NOT NULL, warehouse character(2) NOT NULL, reference character varying(9) NOT NULL, customer integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_payment_accepted timestamp(3) without time zone, payment_method smallint NOT NULL, billing_series character(3) NOT NULL, currency smallint NOT NULL, currency_change real NOT NULL, billing_address integer NOT NULL, shipping_address integer NOT NULL, lines_number smallint DEFAULT 0 NOT NULL, invoiced_lines smallint DEFAULT 0 NOT NULL, delivery_note_lines smallint DEFAULT 0 NOT NULL, total_products real DEFAULT 0 NOT NULL, discount_percent real NOT NULL, fix_discount real NOT NULL, shipping_price real NOT NULL, shipping_discount real NOT NULL, total_with_discount real DEFAULT 0 NOT NULL, vat_amount real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL, dsc text NOT NULL, notes character varying(250) NOT NULL, off boolean DEFAULT false NOT NULL, cancelled boolean DEFAULT false NOT NULL, status character(1) DEFAULT '_'::bpchar NOT NULL, order_number integer NOT NULL, billing_status character(1) DEFAULT 'P'::bpchar NOT NULL, order_name character(15) NOT NULL, carrier smallint, ps_id integer DEFAULT 0 NOT NULL ); CREATE TABLE public.sales_order_detail ( id integer NOT NULL, "order" integer NOT NULL, product integer NOT NULL, price real NOT NULL, quantity integer NOT NULL, vat_percent real NOT NULL, total_amount real NOT NULL, quantity_invoiced integer DEFAULT 0 NOT NULL, quantity_delivery_note integer DEFAULT 0 NOT NULL, status character(1) NOT NULL, quantity_pending_packaging integer NOT NULL, purchase_order_detail integer, ps_id integer DEFAULT 0 NOT NULL, cancelled boolean DEFAULT false NOT NULL ); CREATE TABLE public.sales_order_detail_packaged ( order_detail integer NOT NULL, packaging integer NOT NULL, quantity integer NOT NULL ); CREATE TABLE public.sales_order_discount ( id integer NOT NULL, "order" integer NOT NULL, name character varying(100) NOT NULL, value_tax_included real NOT NULL, value_tax_excluded real NOT NULL ); CREATE TABLE public.shipping ( id integer NOT NULL, "order" integer NOT NULL, delivery_note integer NOT NULL, delivery_address integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_sent timestamp(3) without time zone, sent boolean DEFAULT false NOT NULL, collected boolean DEFAULT false NOT NULL, "national" boolean NOT NULL, shipping_number character varying(50) DEFAULT ''::character varying NOT NULL, tracking_number character varying(50) DEFAULT ''::character varying NOT NULL, carrier smallint NOT NULL, weight real DEFAULT 0 NOT NULL, packages_number smallint DEFAULT 0 NOT NULL, incoterm smallint, carrier_notes character varying(250) NOT NULL, description text NOT NULL ); CREATE TABLE public.shipping_tag ( id bigint NOT NULL, shipping integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, label bytea NOT NULL ); CREATE TABLE public.state ( id integer NOT NULL, country smallint NOT NULL, name character varying(100) NOT NULL, iso_code character varying(7) NOT NULL ); CREATE TABLE public.stock ( product integer NOT NULL, warehouse character(2) NOT NULL, quantity integer DEFAULT 0 NOT NULL, quantity_pending_received integer DEFAULT 0 NOT NULL, quantity_pending_served integer DEFAULT 0 NOT NULL, quantity_available integer DEFAULT 0 NOT NULL, quantity_pending_manufacture integer DEFAULT 0 NOT NULL ); CREATE TABLE public.suppliers ( id integer NOT NULL, name character varying(303) NOT NULL, tradename character varying(150) NOT NULL, fiscal_name character varying(150) NOT NULL, tax_id character varying(25) NOT NULL, vat_number character varying(25) NOT NULL, phone character varying(15) NOT NULL, email character varying(100) NOT NULL, main_address integer, country smallint, state integer, main_shipping_address integer, main_billing_address integer, language smallint, payment_method integer, billing_series character(3), date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, account integer ); CREATE TABLE public."user" ( id smallint NOT NULL, username character varying(40) NOT NULL, full_name character varying(150) NOT NULL, email character varying(100) DEFAULT ''::character varying NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, date_last_pwd timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, pwd_next_login boolean DEFAULT false NOT NULL, off boolean DEFAULT false NOT NULL, pwd bytea, salt character(30) NOT NULL, iterations integer NOT NULL, dsc text DEFAULT ''::text NOT NULL, date_last_login timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, failed_login_attemps smallint DEFAULT 0 NOT NULL, lang character(2) DEFAULT 'en'::bpchar NOT NULL ); CREATE TABLE public.user_group ( "user" smallint NOT NULL, "group" smallint NOT NULL ); CREATE TABLE public.warehouse ( id character(2) NOT NULL, name character varying(50) NOT NULL ); CREATE TABLE public.warehouse_movement ( id bigint NOT NULL, warehouse character(2) NOT NULL, product integer NOT NULL, quantity integer NOT NULL, date_created timestamp(3) without time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL, type character(1) NOT NULL, sales_order integer, sales_order_detail integer, sales_invoice integer, sales_invoice_detail integer, sales_delivery_note integer, dsc text NOT NULL, purchase_order integer, purchase_order_detail integer, purchase_invoice integer, purchase_invoice_details integer, purchase_delivery_note integer, dragged_stock integer DEFAULT 0 NOT NULL, price real DEFAULT 0 NOT NULL, vat_percent real DEFAULT 0 NOT NULL, total_amount real DEFAULT 0 NOT NULL ); ALTER TABLE ONLY public.account ADD CONSTRAINT account_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.address ADD CONSTRAINT address_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.api_key ADD CONSTRAINT api_key_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.accounting_movement_detail ADD CONSTRAINT apunte_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.accounting_movement ADD CONSTRAINT asiento_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.billing_series ADD CONSTRAINT billing_series_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.carrier ADD CONSTRAINT carrier_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.charges ADD CONSTRAINT chages_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.state ADD CONSTRAINT city_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.collection_operation ADD CONSTRAINT collection_operation_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.color ADD CONSTRAINT color_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.config_accounts_vat ADD CONSTRAINT config_accounts_vat_pkey PRIMARY KEY (vat_percent); ALTER TABLE ONLY public.config ADD CONSTRAINT config_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.country ADD CONSTRAINT country_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.currency ADD CONSTRAINT currency_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.document_container ADD CONSTRAINT document_container_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_pkey PRIMARY KEY (id); ALTER TABLE ONLY public."group" ADD CONSTRAINT group_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.incoterm ADD CONSTRAINT incoterm_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.journal ADD CONSTRAINT journal_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.language ADD CONSTRAINT language_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.login_tokens ADD CONSTRAINT login_tokens_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.logs ADD CONSTRAINT logs_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.manufacturing_order_type ADD CONSTRAINT manufacturing_order_type_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.packages ADD CONSTRAINT packages_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.packaging ADD CONSTRAINT packaing_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.pallets ADD CONSTRAINT pallets_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.payment_method ADD CONSTRAINT payment_method_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.payment_transaction ADD CONSTRAINT payment_transaction_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.payments ADD CONSTRAINT payments_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.product_family ADD CONSTRAINT product_family_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.product_image ADD CONSTRAINT product_image_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_product_option_values ADD CONSTRAINT product_option_values_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.product_pack ADD CONSTRAINT product_pack_pkey PRIMARY KEY (product_base, product_included); ALTER TABLE ONLY public.product ADD CONSTRAINT product_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.product_translation ADD CONSTRAINT product_translation_pkey PRIMARY KEY (product, language); ALTER TABLE ONLY public.ps_address ADD CONSTRAINT ps_address_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_carrier ADD CONSTRAINT ps_carrier_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_country ADD CONSTRAINT ps_country_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_currency ADD CONSTRAINT ps_currency_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_customer ADD CONSTRAINT ps_customer_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_language ADD CONSTRAINT ps_language_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_order_detail ADD CONSTRAINT ps_order_detail_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_order ADD CONSTRAINT ps_order_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_product_combination ADD CONSTRAINT ps_product_attribute_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_product ADD CONSTRAINT ps_product_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_state ADD CONSTRAINT ps_state_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.ps_zone ADD CONSTRAINT ps_zone_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.purchase_delivery_note ADD CONSTRAINT purchase_delivery_note_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.purchase_invoice_details ADD CONSTRAINT purchase_invoice_details_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.purchase_order_detail ADD CONSTRAINT purchase_orer_detail_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.sales_delivery_note ADD CONSTRAINT sales_delivery_note_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.sales_invoice_detail ADD CONSTRAINT sales_invoice_detail_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.sales_order_detail_packaged ADD CONSTRAINT sales_order_detail_packaged_pkey PRIMARY KEY (order_detail, packaging); ALTER TABLE ONLY public.sales_order_detail ADD CONSTRAINT sales_order_detail_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.sales_order_discount ADD CONSTRAINT sales_order_discount_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.shipping ADD CONSTRAINT shipping_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.shipping_tag ADD CONSTRAINT shipping_tag_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.stock ADD CONSTRAINT stock_pkey PRIMARY KEY (product, warehouse); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.user_group ADD CONSTRAINT user_group_pkey PRIMARY KEY ("user", "group"); ALTER TABLE ONLY public."user" ADD CONSTRAINT user_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_pkey PRIMARY KEY (id); ALTER TABLE ONLY public.warehouse ADD CONSTRAINT warehouse_pkey PRIMARY KEY (id); CREATE UNIQUE INDEX account_account_number_journal ON public.account USING btree (account_number, journal); CREATE INDEX account_name ON public.account USING gin (name public.gin_trgm_ops); CREATE INDEX accounting_movement_detail_document_name ON public.accounting_movement_detail USING hash (document_name); CREATE INDEX address_name ON public.address USING gin (address public.gin_trgm_ops); CREATE UNIQUE INDEX address_ps_id ON public.address USING btree (ps_id) WHERE (ps_id <> 0); CREATE UNIQUE INDEX api_key_token ON public.api_key USING btree (token); CREATE UNIQUE INDEX carrier_ps_id ON public.carrier USING btree (ps_id) WHERE (ps_id <> 0); CREATE UNIQUE INDEX country_iso_2 ON public.country USING btree (iso_2); CREATE UNIQUE INDEX country_iso_3 ON public.country USING btree (iso_3) WHERE (iso_3 <> ''::bpchar); CREATE INDEX country_name ON public.country USING gin (name public.gin_trgm_ops); CREATE UNIQUE INDEX currency_iso_code ON public.currency USING btree (iso_code); CREATE UNIQUE INDEX currency_iso_num ON public.currency USING btree (iso_num); CREATE UNIQUE INDEX currency_sign ON public.currency USING btree (sign); CREATE INDEX customer_email ON public.customer USING gin (email public.gin_trgm_ops); CREATE UNIQUE INDEX customer_name ON public.customer USING btree (name); CREATE INDEX customer_name_trgm ON public.customer USING gin (name public.gin_trgm_ops); CREATE UNIQUE INDEX customer_ps_id ON public.customer USING btree (ps_id) WHERE (ps_id <> 0); CREATE INDEX customer_tax_id ON public.customer USING gin (tax_id public.gin_trgm_ops); CREATE UNIQUE INDEX document_uuid ON public.document USING btree (uuid); CREATE UNIQUE INDEX incoterm_key ON public.incoterm USING btree (key); CREATE UNIQUE INDEX language_iso_2 ON public.language USING btree (iso_2); CREATE UNIQUE INDEX language_iso_3 ON public.language USING btree (iso_3) WHERE (iso_3 <> ''::bpchar); CREATE INDEX language_name ON public.language USING gin (name public.gin_trgm_ops); CREATE UNIQUE INDEX login_tokens_name_ip_address ON public.login_tokens USING btree (name, ip_address); CREATE INDEX manufacturing_order_date_created ON public.manufacturing_order USING btree (date_created DESC NULLS LAST); CREATE UNIQUE INDEX manufacturing_order_uuid ON public.manufacturing_order USING btree (uuid); CREATE UNIQUE INDEX product_barcode ON public.product USING btree (barcode) WHERE (barcode <> ''::bpchar); CREATE UNIQUE INDEX product_family_reference ON public.product_family USING btree (reference); CREATE INDEX product_name ON public.product USING gin (name public.gin_trgm_ops); CREATE UNIQUE INDEX product_ps_id ON public.product USING btree (ps_id, ps_combination_id) WHERE (ps_id <> 0); CREATE INDEX product_reference ON public.product USING btree (reference) WHERE ((reference)::text <> ''::text); CREATE INDEX product_track_minimum_stock ON public.product USING btree (track_minimum_stock) WHERE (track_minimum_stock = true); CREATE INDEX ps_address_ps_exists ON public.ps_address USING btree (ps_exists); CREATE INDEX ps_carrier_ps_exists ON public.ps_carrier USING btree (ps_exists); CREATE INDEX ps_country_ps_exists ON public.ps_country USING btree (ps_exists); CREATE INDEX ps_currency_ps_exists ON public.ps_currency USING btree (ps_exists); CREATE INDEX ps_language_ps_exists ON public.ps_language USING btree (ps_exists); CREATE INDEX ps_order_detail_ps_exists ON public.ps_order_detail USING btree (ps_exists); CREATE INDEX ps_order_ps_exists ON public.ps_order USING btree (ps_exists); CREATE INDEX ps_product_combination_ps_exists ON public.ps_product_combination USING btree (ps_exists); CREATE INDEX ps_product_option_values_ps_exists ON public.ps_product_option_values USING btree (ps_exists); CREATE INDEX ps_product_ps_exists ON public.ps_product USING btree (ps_exists); CREATE INDEX ps_state_ps_exists ON public.ps_state USING btree (ps_exists); CREATE INDEX ps_zone_ps_exists ON public.ps_zone USING btree (ps_exists); CREATE UNIQUE INDEX purchase_order_detail_purchase_order_product ON public.purchase_order_detail USING btree ("order", product); CREATE UNIQUE INDEX purchase_order_order_number ON public.purchase_order USING btree (billing_series, order_number DESC NULLS LAST); CREATE INDEX purchase_order_supplier_reference ON public.purchase_order USING gin (supplier_reference public.gin_trgm_ops); CREATE INDEX sales_delivery_note_date_created ON public.sales_delivery_note USING btree (date_created DESC NULLS LAST); CREATE UNIQUE INDEX sales_delivery_note_delivery_note_number ON public.sales_delivery_note USING btree (billing_series, delivery_note_number DESC NULLS LAST); CREATE INDEX sales_invoice_date_created ON public.sales_invoice USING btree (date_created DESC NULLS LAST); CREATE UNIQUE INDEX sales_invoice_invoice_number ON public.sales_invoice USING btree (billing_series, invoice_number DESC NULLS LAST); CREATE INDEX sales_order_date_created ON public.sales_order USING btree (date_created DESC NULLS LAST); CREATE UNIQUE INDEX sales_order_detail_ps_id ON public.sales_order_detail USING btree (ps_id) WHERE (ps_id <> 0); CREATE UNIQUE INDEX sales_order_detail_sales_order_product ON public.sales_order_detail USING btree ("order", product); CREATE UNIQUE INDEX sales_order_order_number ON public.sales_order USING btree (billing_series, order_number DESC NULLS LAST); CREATE UNIQUE INDEX sales_order_ps_id ON public.sales_order USING btree (ps_id) WHERE (ps_id <> 0); CREATE INDEX sales_order_reference ON public.sales_order USING gin (reference public.gin_trgm_ops); CREATE INDEX shipping_sent_collected ON public.shipping USING btree (sent, collected); CREATE INDEX state_iso_code ON public.state USING btree (iso_code) WHERE ((iso_code)::text <> ''::text); CREATE INDEX state_name ON public.state USING gin (name public.gin_trgm_ops); CREATE INDEX supplier_email ON public.suppliers USING gin (email public.gin_trgm_ops); CREATE UNIQUE INDEX supplier_name ON public.suppliers USING btree (name); CREATE INDEX supplier_name_trgm ON public.suppliers USING gin (name public.gin_trgm_ops); CREATE INDEX supplier_tax_id ON public.suppliers USING gin (tax_id public.gin_trgm_ops); CREATE UNIQUE INDEX user_username ON public."user" USING btree (username); CREATE TRIGGER set_account_id BEFORE INSERT ON public.account FOR EACH ROW EXECUTE FUNCTION public.set_account_id(); CREATE TRIGGER set_accounting_movement_detail_id BEFORE INSERT ON public.accounting_movement_detail FOR EACH ROW EXECUTE FUNCTION public.set_accounting_movement_detail_id(); CREATE TRIGGER set_accounting_movement_id BEFORE INSERT ON public.accounting_movement FOR EACH ROW EXECUTE FUNCTION public.set_accounting_movement_id(); CREATE TRIGGER set_address_id BEFORE INSERT ON public.address FOR EACH ROW EXECUTE FUNCTION public.set_address_id(); CREATE TRIGGER set_api_key_id BEFORE INSERT ON public.api_key FOR EACH ROW EXECUTE FUNCTION public.set_api_key_id(); CREATE TRIGGER set_carrier_id BEFORE INSERT ON public.carrier FOR EACH ROW EXECUTE FUNCTION public.set_carrier_id(); CREATE TRIGGER set_charges_id BEFORE INSERT ON public.charges FOR EACH ROW EXECUTE FUNCTION public.set_charges_id(); CREATE TRIGGER set_collection_operation_id BEFORE INSERT ON public.collection_operation FOR EACH ROW EXECUTE FUNCTION public.set_collection_operation_id(); CREATE TRIGGER set_color_id BEFORE INSERT ON public.color FOR EACH ROW EXECUTE FUNCTION public.set_color_id(); CREATE TRIGGER set_country_id BEFORE INSERT ON public.country FOR EACH ROW EXECUTE FUNCTION public.set_country_id(); CREATE TRIGGER set_currency_id BEFORE INSERT ON public.currency FOR EACH ROW EXECUTE FUNCTION public.set_currency_id(); CREATE TRIGGER set_customer_id BEFORE INSERT ON public.customer FOR EACH ROW EXECUTE FUNCTION public.set_customer_id(); CREATE TRIGGER set_document_container_id BEFORE INSERT ON public.document_container FOR EACH ROW EXECUTE FUNCTION public.set_document_container_id(); CREATE TRIGGER set_document_id BEFORE INSERT ON public.document FOR EACH ROW EXECUTE FUNCTION public.set_document_id(); CREATE TRIGGER set_group_id BEFORE INSERT ON public."group" FOR EACH ROW EXECUTE FUNCTION public.set_group_id(); CREATE TRIGGER set_incoterm_id BEFORE INSERT ON public.incoterm FOR EACH ROW EXECUTE FUNCTION public.set_incoterm_id(); CREATE TRIGGER set_language_id BEFORE INSERT ON public.language FOR EACH ROW EXECUTE FUNCTION public.set_language_id(); CREATE TRIGGER set_login_tokens_id BEFORE INSERT ON public.login_tokens FOR EACH ROW EXECUTE FUNCTION public.set_login_tokens_id(); CREATE TRIGGER set_logs_id BEFORE INSERT ON public.logs FOR EACH ROW EXECUTE FUNCTION public.set_logs_id(); CREATE TRIGGER set_manufacturing_order_id BEFORE INSERT ON public.manufacturing_order FOR EACH ROW EXECUTE FUNCTION public.set_manufacturing_order_id(); CREATE TRIGGER set_manufacturing_order_type_id BEFORE INSERT ON public.manufacturing_order_type FOR EACH ROW EXECUTE FUNCTION public.set_manufacturing_order_type_id(); CREATE TRIGGER set_packages_id BEFORE INSERT ON public.packages FOR EACH ROW EXECUTE FUNCTION public.set_packages_id(); CREATE TRIGGER set_packaging_id BEFORE INSERT ON public.packaging FOR EACH ROW EXECUTE FUNCTION public.set_packaging_id(); CREATE TRIGGER set_pallets_id BEFORE INSERT ON public.pallets FOR EACH ROW EXECUTE FUNCTION public.set_pallets_id(); CREATE TRIGGER set_payment_method_id BEFORE INSERT ON public.payment_method FOR EACH ROW EXECUTE FUNCTION public.set_payment_method_id(); CREATE TRIGGER set_payment_transaction_id BEFORE INSERT ON public.payment_transaction FOR EACH ROW EXECUTE FUNCTION public.set_payment_transaction_id(); CREATE TRIGGER set_payments_id BEFORE INSERT ON public.payments FOR EACH ROW EXECUTE FUNCTION public.set_payments_id(); CREATE TRIGGER set_product_family_id BEFORE INSERT ON public.product_family FOR EACH ROW EXECUTE FUNCTION public.set_product_family_id(); CREATE TRIGGER set_product_id BEFORE INSERT ON public.product FOR EACH ROW EXECUTE FUNCTION public.set_product_id(); CREATE TRIGGER set_product_image_id BEFORE INSERT ON public.product_image FOR EACH ROW EXECUTE FUNCTION public.set_product_image_id(); CREATE TRIGGER set_purchase_delivery_note_id BEFORE INSERT ON public.purchase_delivery_note FOR EACH ROW EXECUTE FUNCTION public.set_purchase_delivery_note_id(); CREATE TRIGGER set_purchase_invoice_details_id BEFORE INSERT ON public.purchase_invoice_details FOR EACH ROW EXECUTE FUNCTION public.set_purchase_invoice_details_id(); CREATE TRIGGER set_purchase_invoice_id BEFORE INSERT ON public.purchase_invoice FOR EACH ROW EXECUTE FUNCTION public.set_purchase_invoice_id(); CREATE TRIGGER set_purchase_order_detail_id BEFORE INSERT ON public.purchase_order_detail FOR EACH ROW EXECUTE FUNCTION public.set_purchase_order_detail_id(); CREATE TRIGGER set_purchase_order_id BEFORE INSERT ON public.purchase_order FOR EACH ROW EXECUTE FUNCTION public.set_purchase_order_id(); CREATE TRIGGER set_sales_delivery_note_id BEFORE INSERT ON public.sales_delivery_note FOR EACH ROW EXECUTE FUNCTION public.set_sales_delivery_note_id(); CREATE TRIGGER set_sales_invoice_detail_id BEFORE INSERT ON public.sales_invoice_detail FOR EACH ROW EXECUTE FUNCTION public.set_sales_invoice_detail_id(); CREATE TRIGGER set_sales_invoice_id BEFORE INSERT ON public.sales_invoice FOR EACH ROW EXECUTE FUNCTION public.set_sales_invoice_id(); CREATE TRIGGER set_sales_order_detail_id BEFORE INSERT ON public.sales_order_detail FOR EACH ROW EXECUTE FUNCTION public.set_sales_order_detail_id(); CREATE TRIGGER set_sales_order_discount_id BEFORE INSERT ON public.sales_order_discount FOR EACH ROW EXECUTE FUNCTION public.set_sales_order_discount_id(); CREATE TRIGGER set_sales_order_id BEFORE INSERT ON public.sales_order FOR EACH ROW EXECUTE FUNCTION public.set_sales_order_id(); CREATE TRIGGER set_shipping_id BEFORE INSERT ON public.shipping FOR EACH ROW EXECUTE FUNCTION public.set_shipping_id(); CREATE TRIGGER set_shipping_tag_id BEFORE INSERT ON public.shipping_tag FOR EACH ROW EXECUTE FUNCTION public.set_shipping_tag_id(); CREATE TRIGGER set_state_id BEFORE INSERT ON public.state FOR EACH ROW EXECUTE FUNCTION public.set_state_id(); CREATE TRIGGER set_suppliers_id BEFORE INSERT ON public.suppliers FOR EACH ROW EXECUTE FUNCTION public.set_suppliers_id(); CREATE TRIGGER set_user_id BEFORE INSERT ON public."user" FOR EACH ROW EXECUTE FUNCTION public.set_user_id(); CREATE TRIGGER set_warehouse_movement_id BEFORE INSERT ON public.warehouse_movement FOR EACH ROW EXECUTE FUNCTION public.set_warehouse_movement_id(); ALTER TABLE ONLY public.account ADD CONSTRAINT account_journal FOREIGN KEY (journal) REFERENCES public.journal(id); ALTER TABLE ONLY public.accounting_movement ADD CONSTRAINT accounting_movement_billing_serie FOREIGN KEY (billing_serie) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.accounting_movement_detail ADD CONSTRAINT accounting_movement_detail_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.accounting_movement_detail ADD CONSTRAINT accounting_movement_detail_journal FOREIGN KEY (journal) REFERENCES public.journal(id); ALTER TABLE ONLY public.accounting_movement_detail ADD CONSTRAINT accounting_movement_detail_movement FOREIGN KEY (movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.accounting_movement_detail ADD CONSTRAINT accounting_movement_detail_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.address ADD CONSTRAINT address_country FOREIGN KEY (country) REFERENCES public.country(id); ALTER TABLE ONLY public.address ADD CONSTRAINT address_customer FOREIGN KEY (customer) REFERENCES public.customer(id); ALTER TABLE ONLY public.address ADD CONSTRAINT address_state FOREIGN KEY (state) REFERENCES public.state(id); ALTER TABLE ONLY public.api_key ADD CONSTRAINT api_key_user FOREIGN KEY ("user") REFERENCES public."user"(id); ALTER TABLE ONLY public.api_key ADD CONSTRAINT api_key_user_created FOREIGN KEY (user_created) REFERENCES public."user"(id); ALTER TABLE ONLY public.charges ADD CONSTRAINT charges_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.charges ADD CONSTRAINT charges_accounting_movement FOREIGN KEY (accounting_movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.charges ADD CONSTRAINT charges_accounting_movement_detail_credit FOREIGN KEY (accounting_movement_detail_credit) REFERENCES public.accounting_movement_detail(id); ALTER TABLE ONLY public.charges ADD CONSTRAINT charges_accounting_movement_detail_debit FOREIGN KEY (accounting_movement_detail_debit) REFERENCES public.accounting_movement_detail(id); ALTER TABLE ONLY public.charges ADD CONSTRAINT charges_collection_operation FOREIGN KEY (collection_operation) REFERENCES public.collection_operation(id); ALTER TABLE ONLY public.state ADD CONSTRAINT city_country FOREIGN KEY (country) REFERENCES public.country(id); ALTER TABLE ONLY public.collection_operation ADD CONSTRAINT collection_operation_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.collection_operation ADD CONSTRAINT collection_operation_accounting_movement FOREIGN KEY (accounting_movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.collection_operation ADD CONSTRAINT collection_operation_accounting_movement_detail FOREIGN KEY (accounting_movement_detail) REFERENCES public.accounting_movement_detail(id); ALTER TABLE ONLY public.collection_operation ADD CONSTRAINT collection_operation_bank FOREIGN KEY (bank) REFERENCES public.account(id); ALTER TABLE ONLY public.collection_operation ADD CONSTRAINT collection_operation_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.config_accounts_vat ADD CONSTRAINT config_accounts_vat_account_purchase FOREIGN KEY (account_purchase) REFERENCES public.account(id); ALTER TABLE ONLY public.config_accounts_vat ADD CONSTRAINT config_accounts_vat_account_sales FOREIGN KEY (account_sale) REFERENCES public.account(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_customer_journal FOREIGN KEY (customer_journal) REFERENCES public.journal(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_prestashop_export_serie FOREIGN KEY (prestashop_export_serie) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_prestashop_interior_serie FOREIGN KEY (prestashop_interior_serie) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_prestashop_intracommunity_serie FOREIGN KEY (prestashop_intracommunity_serie) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_purchase_account FOREIGN KEY (purchase_account) REFERENCES public.account(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_purchase_journal FOREIGN KEY (purchase_journal) REFERENCES public.journal(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_sales_account FOREIGN KEY (sales_account) REFERENCES public.account(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_sales_journal FOREIGN KEY (sales_journal) REFERENCES public.journal(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_supplier_journal FOREIGN KEY (supplier_journal) REFERENCES public.journal(id); ALTER TABLE ONLY public.config ADD CONSTRAINT config_warehouse FOREIGN KEY (default_warehouse) REFERENCES public.warehouse(id); ALTER TABLE ONLY public.country ADD CONSTRAINT country_currency FOREIGN KEY (currency) REFERENCES public.currency(id); ALTER TABLE ONLY public.country ADD CONSTRAINT country_language FOREIGN KEY (language) REFERENCES public.language(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_country FOREIGN KEY (country) REFERENCES public.country(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_language FOREIGN KEY (language) REFERENCES public.language(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_main_address FOREIGN KEY (main_address) REFERENCES public.address(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_main_billing_address FOREIGN KEY (main_billing_address) REFERENCES public.address(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_main_shipping_address FOREIGN KEY (main_shipping_address) REFERENCES public.address(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.customer ADD CONSTRAINT customer_state FOREIGN KEY (state) REFERENCES public.state(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_container FOREIGN KEY (container) REFERENCES public.document_container(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_purchase_delivery_note FOREIGN KEY (purchase_delivery_note) REFERENCES public.purchase_delivery_note(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_purchase_invoice FOREIGN KEY (purchase_invoice) REFERENCES public.purchase_invoice(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_purchase_order FOREIGN KEY (purchase_order) REFERENCES public.purchase_order(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_sales_delivery_note FOREIGN KEY (sales_delivery_note) REFERENCES public.sales_delivery_note(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_sales_invoice FOREIGN KEY (sales_invoice) REFERENCES public.sales_invoice(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_sales_order FOREIGN KEY (sales_order) REFERENCES public.sales_order(id); ALTER TABLE ONLY public.document ADD CONSTRAINT document_shipping FOREIGN KEY (shipping) REFERENCES public.shipping(id); ALTER TABLE ONLY public.login_tokens ADD CONSTRAINT login_tokens_user FOREIGN KEY ("user") REFERENCES public."user"(id) ON UPDATE CASCADE ON DELETE CASCADE; ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_order FOREIGN KEY ("order") REFERENCES public.sales_order(id); ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_order_detail FOREIGN KEY (order_detail) REFERENCES public.sales_order_detail(id); ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_type FOREIGN KEY (type) REFERENCES public.manufacturing_order_type(id); ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_user_created FOREIGN KEY (user_created) REFERENCES public."user"(id); ALTER TABLE ONLY public.manufacturing_order ADD CONSTRAINT manufacturing_order_user_manufactured FOREIGN KEY (user_manufactured) REFERENCES public."user"(id); ALTER TABLE ONLY public.packages ADD CONSTRAINT packages_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.packaging ADD CONSTRAINT packaging_package FOREIGN KEY (package) REFERENCES public.packages(id); ALTER TABLE ONLY public.packaging ADD CONSTRAINT packaging_pallet FOREIGN KEY (pallet) REFERENCES public.pallets(id); ALTER TABLE ONLY public.packaging ADD CONSTRAINT packaging_sales_order FOREIGN KEY (sales_order) REFERENCES public.sales_order(id); ALTER TABLE ONLY public.packaging ADD CONSTRAINT packaging_shipping FOREIGN KEY (shipping) REFERENCES public.shipping(id); ALTER TABLE ONLY public.pallets ADD CONSTRAINT pallets_sales_order FOREIGN KEY (sales_order) REFERENCES public.sales_order(id); ALTER TABLE ONLY public.payment_transaction ADD CONSTRAINT payment_transaction_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.payment_transaction ADD CONSTRAINT payment_transaction_accounting_movement FOREIGN KEY (accounting_movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.payment_transaction ADD CONSTRAINT payment_transaction_accounting_movement_detail FOREIGN KEY (accounting_movement_detail) REFERENCES public.accounting_movement_detail(id); ALTER TABLE ONLY public.payment_transaction ADD CONSTRAINT payment_transaction_bank FOREIGN KEY (bank) REFERENCES public.account(id); ALTER TABLE ONLY public.payment_transaction ADD CONSTRAINT payment_transaction_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.payments ADD CONSTRAINT payments_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.payments ADD CONSTRAINT payments_accounting_movement FOREIGN KEY (accounting_movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.payments ADD CONSTRAINT payments_accounting_movement_detail_credit FOREIGN KEY (accounting_movement_detail_credit) REFERENCES public.accounting_movement_detail(id); ALTER TABLE ONLY public.payments ADD CONSTRAINT payments_accounting_movement_detail_debit FOREIGN KEY (accounting_movement_detail_debit) REFERENCES public.accounting_movement_detail(id); ALTER TABLE ONLY public.payments ADD CONSTRAINT payments_payment_transaction FOREIGN KEY (payment_transaction) REFERENCES public.payment_transaction(id); ALTER TABLE ONLY public.product ADD CONSTRAINT product_color FOREIGN KEY (color) REFERENCES public.color(id); ALTER TABLE ONLY public.product_image ADD CONSTRAINT product_image_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.product_pack ADD CONSTRAINT product_pack_product_base FOREIGN KEY (product_base) REFERENCES public.product(id); ALTER TABLE ONLY public.product_pack ADD CONSTRAINT product_pack_product_included FOREIGN KEY (product_included) REFERENCES public.product(id); ALTER TABLE ONLY public.product ADD CONSTRAINT product_product_family FOREIGN KEY (family) REFERENCES public.product_family(id); ALTER TABLE ONLY public.product_translation ADD CONSTRAINT product_translation_language FOREIGN KEY (language) REFERENCES public.language(id); ALTER TABLE ONLY public.product_translation ADD CONSTRAINT product_translation_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.purchase_delivery_note ADD CONSTRAINT purchase_delivery_note_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.purchase_delivery_note ADD CONSTRAINT purchase_delivery_note_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.purchase_delivery_note ADD CONSTRAINT purchase_delivery_note_shipping_address FOREIGN KEY (shipping_address) REFERENCES public.address(id); ALTER TABLE ONLY public.purchase_delivery_note ADD CONSTRAINT purchase_delivery_note_supplier FOREIGN KEY (supplier) REFERENCES public.suppliers(id); ALTER TABLE ONLY public.purchase_delivery_note ADD CONSTRAINT purchase_delivery_note_warehouse FOREIGN KEY (warehouse) REFERENCES public.warehouse(id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_accounting_movement FOREIGN KEY (accounting_movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_billing_address FOREIGN KEY (billing_address) REFERENCES public.address(id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_currency FOREIGN KEY (currency) REFERENCES public.currency(id); ALTER TABLE ONLY public.purchase_invoice_details ADD CONSTRAINT purchase_invoice_details_invoice FOREIGN KEY (invoice) REFERENCES public.purchase_invoice(id); ALTER TABLE ONLY public.purchase_invoice_details ADD CONSTRAINT purchase_invoice_details_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.purchase_invoice ADD CONSTRAINT purchase_invoice_supplier FOREIGN KEY (supplier) REFERENCES public.suppliers(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_billing_address FOREIGN KEY (billing_address) REFERENCES public.address(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_currency FOREIGN KEY (currency) REFERENCES public.currency(id); ALTER TABLE ONLY public.purchase_order_detail ADD CONSTRAINT purchase_order_detail_order FOREIGN KEY ("order") REFERENCES public.purchase_order(id); ALTER TABLE ONLY public.purchase_order_detail ADD CONSTRAINT purchase_order_detail_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_shipping_address FOREIGN KEY (shipping_address) REFERENCES public.address(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_supplier FOREIGN KEY (supplier) REFERENCES public.suppliers(id); ALTER TABLE ONLY public.purchase_order ADD CONSTRAINT purchase_order_warehouse FOREIGN KEY (warehouse) REFERENCES public.warehouse(id); ALTER TABLE ONLY public.sales_delivery_note ADD CONSTRAINT sales_delivery_note_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.sales_delivery_note ADD CONSTRAINT sales_delivery_note_customer FOREIGN KEY (customer) REFERENCES public.customer(id); ALTER TABLE ONLY public.sales_delivery_note ADD CONSTRAINT sales_delivery_note_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.sales_delivery_note ADD CONSTRAINT sales_delivery_note_shipping_address FOREIGN KEY (shipping_address) REFERENCES public.address(id); ALTER TABLE ONLY public.sales_delivery_note ADD CONSTRAINT sales_delivery_note_warehouse FOREIGN KEY (warehouse) REFERENCES public.warehouse(id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_accounting_movement FOREIGN KEY (accounting_movement) REFERENCES public.accounting_movement(id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_billing_address FOREIGN KEY (billing_address) REFERENCES public.address(id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_currency FOREIGN KEY (currency) REFERENCES public.currency(id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_customer FOREIGN KEY (customer) REFERENCES public.customer(id); ALTER TABLE ONLY public.sales_invoice_detail ADD CONSTRAINT sales_invoice_detail_invoice FOREIGN KEY (invoice) REFERENCES public.sales_invoice(id); ALTER TABLE ONLY public.sales_invoice_detail ADD CONSTRAINT sales_invoice_detail_order_detail FOREIGN KEY (order_detail) REFERENCES public.sales_order_detail(id); ALTER TABLE ONLY public.sales_invoice_detail ADD CONSTRAINT sales_invoice_detail_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.sales_invoice ADD CONSTRAINT sales_invoice_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_billing_address FOREIGN KEY (billing_address) REFERENCES public.address(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_currency FOREIGN KEY (currency) REFERENCES public.currency(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_customer FOREIGN KEY (customer) REFERENCES public.customer(id); ALTER TABLE ONLY public.sales_order_detail ADD CONSTRAINT sales_order_detail_order FOREIGN KEY ("order") REFERENCES public.sales_order(id); ALTER TABLE ONLY public.sales_order_detail_packaged ADD CONSTRAINT sales_order_detail_packaged_order_detail FOREIGN KEY (order_detail) REFERENCES public.sales_order_detail(id); ALTER TABLE ONLY public.sales_order_detail_packaged ADD CONSTRAINT sales_order_detail_packaged_packaging FOREIGN KEY (packaging) REFERENCES public.packaging(id); ALTER TABLE ONLY public.sales_order_detail ADD CONSTRAINT sales_order_detail_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.sales_order_detail ADD CONSTRAINT sales_order_detail_purchase_order_detail FOREIGN KEY (purchase_order_detail) REFERENCES public.purchase_order_detail(id); ALTER TABLE ONLY public.sales_order_discount ADD CONSTRAINT sales_order_discount_order FOREIGN KEY ("order") REFERENCES public.sales_order(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_shipping_address FOREIGN KEY (shipping_address) REFERENCES public.address(id); ALTER TABLE ONLY public.sales_order ADD CONSTRAINT sales_order_warehouse FOREIGN KEY (warehouse) REFERENCES public.warehouse(id); ALTER TABLE ONLY public.shipping ADD CONSTRAINT shipping_carrier FOREIGN KEY (carrier) REFERENCES public.carrier(id); ALTER TABLE ONLY public.shipping ADD CONSTRAINT shipping_delivery_address FOREIGN KEY (delivery_address) REFERENCES public.address(id); ALTER TABLE ONLY public.shipping ADD CONSTRAINT shipping_delivery_note FOREIGN KEY (delivery_note) REFERENCES public.sales_delivery_note(id); ALTER TABLE ONLY public.shipping ADD CONSTRAINT shipping_order FOREIGN KEY ("order") REFERENCES public.sales_order(id); ALTER TABLE ONLY public.shipping_tag ADD CONSTRAINT shipping_tag_shipping FOREIGN KEY (shipping) REFERENCES public.shipping(id) NOT VALID; ALTER TABLE ONLY public.stock ADD CONSTRAINT stock_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.stock ADD CONSTRAINT stock_warehouse FOREIGN KEY (warehouse) REFERENCES public.warehouse(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_account FOREIGN KEY (account) REFERENCES public.account(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_billing_series FOREIGN KEY (billing_series) REFERENCES public.billing_series(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_country FOREIGN KEY (country) REFERENCES public.country(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_language FOREIGN KEY (language) REFERENCES public.language(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_main_address FOREIGN KEY (main_address) REFERENCES public.address(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_main_billing_address FOREIGN KEY (main_billing_address) REFERENCES public.address(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_main_shipping_address FOREIGN KEY (main_shipping_address) REFERENCES public.address(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_payment_method FOREIGN KEY (payment_method) REFERENCES public.payment_method(id); ALTER TABLE ONLY public.suppliers ADD CONSTRAINT suppliers_state FOREIGN KEY (state) REFERENCES public.state(id); ALTER TABLE ONLY public.user_group ADD CONSTRAINT user_group_group FOREIGN KEY ("group") REFERENCES public."group"(id); ALTER TABLE ONLY public.user_group ADD CONSTRAINT user_group_user FOREIGN KEY ("user") REFERENCES public."user"(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_delivery_note FOREIGN KEY (sales_delivery_note) REFERENCES public.sales_delivery_note(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_invoice FOREIGN KEY (sales_invoice) REFERENCES public.sales_invoice(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_invoice_detail FOREIGN KEY (sales_invoice_detail) REFERENCES public.sales_invoice_detail(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_order FOREIGN KEY (sales_order) REFERENCES public.sales_order(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_order_detail FOREIGN KEY (sales_order_detail) REFERENCES public.sales_order_detail(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_product FOREIGN KEY (product) REFERENCES public.product(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_purchase_delivery_note FOREIGN KEY (purchase_delivery_note) REFERENCES public.purchase_delivery_note(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_purchase_invoice FOREIGN KEY (purchase_invoice) REFERENCES public.purchase_invoice(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_purchase_invoice_details FOREIGN KEY (purchase_invoice_details) REFERENCES public.purchase_invoice_details(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_purchase_order FOREIGN KEY (purchase_order) REFERENCES public.purchase_order(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_purchase_order_detail FOREIGN KEY (purchase_order_detail) REFERENCES public.purchase_order_detail(id); ALTER TABLE ONLY public.warehouse_movement ADD CONSTRAINT warehouse_movement_warehouse FOREIGN KEY (warehouse) REFERENCES public.warehouse(id); GRANT ALL ON TABLE public.account TO marketnet; GRANT ALL ON TABLE public.accounting_movement TO marketnet; GRANT ALL ON TABLE public.accounting_movement_detail TO marketnet; GRANT ALL ON TABLE public.address TO marketnet; GRANT ALL ON TABLE public.api_key TO marketnet; GRANT ALL ON TABLE public.billing_series TO marketnet; GRANT ALL ON TABLE public.carrier TO marketnet; GRANT ALL ON TABLE public.charges TO marketnet; GRANT ALL ON TABLE public.collection_operation TO marketnet; GRANT ALL ON TABLE public.color TO marketnet; GRANT ALL ON TABLE public.config TO marketnet; GRANT ALL ON TABLE public.config_accounts_vat TO marketnet; GRANT ALL ON TABLE public.country TO marketnet; GRANT ALL ON TABLE public.currency TO marketnet; GRANT ALL ON TABLE public.customer TO marketnet; GRANT ALL ON TABLE public.document TO marketnet; GRANT ALL ON TABLE public.document_container TO marketnet; GRANT ALL ON TABLE public."group" TO marketnet; GRANT ALL ON TABLE public.incoterm TO marketnet; GRANT ALL ON TABLE public.journal TO marketnet; GRANT ALL ON TABLE public.language TO marketnet; GRANT ALL ON TABLE public.login_tokens TO marketnet; GRANT ALL ON TABLE public.logs TO marketnet; GRANT ALL ON TABLE public.manufacturing_order TO marketnet; GRANT ALL ON TABLE public.manufacturing_order_type TO marketnet; GRANT ALL ON TABLE public.packages TO marketnet; GRANT ALL ON TABLE public.packaging TO marketnet; GRANT ALL ON TABLE public.pallets TO marketnet; GRANT ALL ON TABLE public.payment_method TO marketnet; GRANT ALL ON TABLE public.payment_transaction TO marketnet; GRANT ALL ON TABLE public.payments TO marketnet; GRANT ALL ON TABLE public.product TO marketnet; GRANT ALL ON TABLE public.product_family TO marketnet; GRANT ALL ON TABLE public.product_image TO marketnet; GRANT ALL ON TABLE public.product_pack TO marketnet; GRANT ALL ON TABLE public.product_translation TO marketnet; GRANT ALL ON TABLE public.ps_address TO marketnet; GRANT ALL ON TABLE public.ps_carrier TO marketnet; GRANT ALL ON TABLE public.ps_country TO marketnet; GRANT ALL ON TABLE public.ps_currency TO marketnet; GRANT ALL ON TABLE public.ps_customer TO marketnet; GRANT ALL ON TABLE public.ps_language TO marketnet; GRANT ALL ON TABLE public.ps_order TO marketnet; GRANT ALL ON TABLE public.ps_order_detail TO marketnet; GRANT ALL ON TABLE public.ps_product TO marketnet; GRANT ALL ON TABLE public.ps_product_combination TO marketnet; GRANT ALL ON TABLE public.ps_product_option_values TO marketnet; GRANT ALL ON TABLE public.ps_state TO marketnet; GRANT ALL ON TABLE public.ps_zone TO marketnet; GRANT ALL ON TABLE public.purchase_delivery_note TO marketnet; GRANT ALL ON TABLE public.purchase_invoice TO marketnet; GRANT ALL ON TABLE public.purchase_invoice_details TO marketnet; GRANT ALL ON TABLE public.purchase_order TO marketnet; GRANT ALL ON TABLE public.purchase_order_detail TO marketnet; GRANT ALL ON TABLE public.sales_delivery_note TO marketnet; GRANT ALL ON TABLE public.sales_invoice TO marketnet; GRANT ALL ON TABLE public.sales_invoice_detail TO marketnet; GRANT ALL ON TABLE public.sales_order TO marketnet; GRANT ALL ON TABLE public.sales_order_detail TO marketnet; GRANT ALL ON TABLE public.sales_order_detail_packaged TO marketnet; GRANT ALL ON TABLE public.sales_order_discount TO marketnet; GRANT ALL ON TABLE public.shipping TO marketnet; GRANT ALL ON TABLE public.shipping_tag TO marketnet; GRANT ALL ON TABLE public.state TO marketnet; GRANT ALL ON TABLE public.stock TO marketnet; GRANT ALL ON TABLE public.suppliers TO marketnet; GRANT ALL ON TABLE public."user" TO marketnet; GRANT ALL ON TABLE public.user_group TO marketnet; GRANT ALL ON TABLE public.warehouse TO marketnet; GRANT ALL ON TABLE public.warehouse_movement TO marketnet; ALTER DEFAULT PRIVILEGES FOR ROLE postgres GRANT ALL ON TABLES TO marketnet;